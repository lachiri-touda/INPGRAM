{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/sanata/Desktop/InpGram/InstaClone/src/Screens/Home/Home.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Component } from \"react\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Header } from \"react-native-web/dist/index\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport AuthStyle from \"./AuthStyle\";\nimport { connect } from 'react-redux';\nimport axios from \"axios\";\nimport { Container, Content, Icon, Thumbnail } from 'native-base';\nimport instalogo from \"./insta.png\";\nimport dm from \"./dm.png\";\nimport PostComponent from \"./PostComponent\";\nimport { isLogedIn } from \"../../actions/AuthActions\";\nimport User from \"../../serveur/models/user.model\";\nimport { listUsers } from \"../../actions/followActions\";\n\nvar Home = function (_Component) {\n  _inherits(Home, _Component);\n\n  var _super = _createSuper(Home);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this, props);\n    _this.list = [];\n\n    _this.listUsers = function () {\n      axios({\n        method: \"post\",\n        url: \"/listUsers\",\n        baseURL: \"http://localhost:3000\"\n      }).then(function (res) {\n        _this.setState({\n          data: res.data.lista\n        });\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    };\n\n    _this.listPosts = function () {\n      axios({\n        method: \"post\",\n        url: \"/listPosts\",\n        baseURL: \"http://localhost:3000\",\n        data: {\n          Id: localStorage.getItem(\"Id\")\n        }\n      }).then(function (res) {\n        console.log(res.data.totalPosts);\n\n        _this.setState({\n          posts: res.data.totalPosts\n        });\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    };\n\n    _this.verifyConnexion = function () {\n      if (!isLogedIn()) {\n        _this.props.navigation.navigate(\"LogIn\");\n      }\n    };\n\n    _this.renderUsers = function (users) {\n      console.log(\"dataaa\");\n      console.log(users);\n      return users.map(function (user, index) {\n        return React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }\n        }, React.createElement(Text, {\n          style: {\n            marginHorizontal: 5,\n            borderColor: 'pink',\n            borderWidth: 2,\n            fontSize: 20\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 23\n          }\n        }, \" \", user.name, \"  \"), React.createElement(Button, {\n          title: user.follow ? \"unfollow\" : \"follow\",\n          style: {\n            marginHorizontal: 5,\n            width: 10,\n            height: 10\n          },\n          onPress: function onPress() {\n            console.log(user.Id);\n            axios({\n              method: \"post\",\n              url: \"/follow\",\n              baseURL: \"http://localhost:3000\",\n              data: {\n                Id: localStorage.getItem(\"Id\"),\n                followId: user.Id\n              }\n            }).then(function (res) {\n              console.log(res.message);\n            }).catch(function (err) {\n              console.log(err.message);\n            });\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 23\n          }\n        }));\n      });\n    };\n\n    _this.renderPosts = function (posts) {\n      return posts.map(function (post, index) {\n        var name = post.username;\n        var url = post.posts;\n        return React.createElement(PostComponent, {\n          imageSource: url,\n          likes: \"101\",\n          username: name,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 16\n          }\n        });\n      });\n    };\n\n    _this.state = {\n      data: [],\n      posts: []\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.verifyConnexion();\n      this.willFocusSubscription = this.props.navigation.addListener('willFocus', function () {\n        _this2.verifyConnexion();\n      });\n      this.listUsers();\n      this.listPosts();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.willFocusSubscription.remove();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          height: 100,\n          backgroundColor: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        source: instalogo,\n        style: {\n          width: 120,\n          height: 35,\n          marginLeft: 20,\n          tintColor: \"black\",\n          marginTop: 10,\n          marginBottom: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 17\n        }\n      }), React.createElement(Image, {\n        source: dm,\n        style: {\n          width: 25,\n          height: 25,\n          marginRight: 20,\n          alignSelf: \"flex-end\",\n          tintColor: \"black\",\n          marginTop: -40\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 17\n        }\n      }), React.createElement(Container, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }\n      }, React.createElement(Content, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          height: 100\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 3\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 25\n        }\n      }, React.createElement(ScrollView, {\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        contentContainerStyle: {\n          alignItems: 'center',\n          paddingStart: 5,\n          paddingEnd: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 29\n        }\n      }, this.renderUsers(this.state.data)))), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 19\n        }\n      }, this.renderPosts(this.state.posts)))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nHome.navigationOptions = {\n  tabBarIcon: function tabBarIcon(_ref) {\n    var tintColor = _ref.tintColor;\n    return React.createElement(Icon, {\n      name: \"ios-home\",\n      style: {\n        color: tintColor\n      },\n      __self: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    });\n  }\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"white\",\n    marginTop: 15\n  }\n});\nexport default Home;","map":{"version":3,"sources":["/home/sanata/Desktop/InpGram/InstaClone/src/Screens/Home/Home.js"],"names":["Component","React","useState","useRef","useEffect","Header","AuthStyle","connect","axios","Container","Content","Icon","Thumbnail","instalogo","dm","PostComponent","isLogedIn","User","listUsers","Home","props","list","method","url","baseURL","then","res","setState","data","lista","catch","err","console","log","message","listPosts","Id","localStorage","getItem","totalPosts","posts","verifyConnexion","navigation","navigate","renderUsers","users","map","user","index","marginHorizontal","borderColor","borderWidth","fontSize","name","follow","width","height","followId","renderPosts","post","username","state","willFocusSubscription","addListener","remove","flex","backgroundColor","marginLeft","tintColor","marginTop","marginBottom","marginRight","alignSelf","styles","container","alignItems","paddingStart","paddingEnd","navigationOptions","tabBarIcon","color","StyleSheet","create"],"mappings":"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","sourcesContent":["\nimport { Component } from \"react\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport {View,Button,TextInput,Text,Alert,StyleSheet, Header,Image ,\n  ScrollView} from 'react-native'\nimport AuthStyle from './AuthStyle'\nimport { connect } from 'react-redux';\n\n\nimport axios from \"axios\";\n\n\n\n\n\nimport { Container, Content, Icon ,  Thumbnail } from 'native-base'\n\nimport instalogo from './insta.png'\n\nimport dm from './dm.png'\n\nimport PostComponent from './PostComponent'\n\nimport { isLogedIn } from '../../actions/AuthActions'\nimport User from \"../../serveur/models/user.model\";\n\n\nimport { listUsers } from '../../actions/followActions';\n\n\n\n\nclass Home extends Component {\n\n\n\n\n   list = [];\n  \n  constructor(props){\n    super(props);\n    \n      this.state={\n        data : [],\n        posts: []\n        \n      }\n      \n  }\n  listUsers = () => {\n    \n     \n    axios({\n      method: \"post\",\n      url: \"/listUsers\",\n      baseURL: \"http://localhost:3000\",\n    })\n      .then((res) => {\n\n\n        //console.log(res.data.lista);\n\n        this.setState ({ data : res.data.lista  });\n\n\n      })\n\n      .catch((err) => {\n        console.log(err.message);\n\n                });\n  };\n\n\n  listPosts = () => {\n    \n     \n    axios({\n      method: \"post\",\n      url: \"/listPosts\",\n      baseURL: \"http://localhost:3000\",\n      data : {\n        Id: localStorage.getItem(\"Id\"),\n      }\n    })\n      .then((res) => {\n\n\n        console.log(res.data.totalPosts);\n\n        this.setState ({ posts : res.data.totalPosts });\n\n        \n\n\n      })\n\n      .catch((err) => {\n        console.log(err.message);\n\n                });\n  };\n\n\n\n\n    verifyConnexion = () => {\n    if (!isLogedIn()) {\n      this.props.navigation.navigate(\"LogIn\");\n    }\n   } \n\n   componentDidMount () {\n\n\n    \n    this.verifyConnexion();\n    this.willFocusSubscription = this.props.navigation.addListener(\n      'willFocus',\n      () => {\n        this.verifyConnexion();\n      }\n    );\n     this.listUsers();\n     this.listPosts();\n  }\n \n  componentWillUnmount() {\n    this.willFocusSubscription.remove();\n  } \n\n\n    static navigationOptions = {\n\n        tabBarIcon: ({ tintColor }) => (\n            <Icon name=\"ios-home\" style={{ color: tintColor }} />\n        )\n    }\n\n    renderUsers = users => {\n      \n      console.log(\"dataaa\");\n      console.log(users);\n      return users.map((user,index) => {\n        return (\n          <View>\n                  {/* <Thumbnail\n                      style={{ marginHorizontal: 5, borderColor: 'pink', borderWidth: 2 }}\n                      source={require('./me.jpg')} /> */}\n\n                      <Text style={{ marginHorizontal: 5, borderColor: 'pink', borderWidth: 2, fontSize : 20 }}> {user.name}  </Text>\n                      <Button\n                      title= { user.follow ? \"unfollow\"  : \"follow\" }\n                      style={{ marginHorizontal: 5 , width : 10, height : 10 }}\n\n                      onPress ={ () => {\n                        \n                         console.log(user.Id)\n     \n                          axios({\n                            method: \"post\",\n                            url: \"/follow\",\n                            baseURL: \"http://localhost:3000\",\n                            data: { \n                              Id: localStorage.getItem(\"Id\"),\n                      \n                              followId : user.Id\n                      \n                            \n                              }\n                          })\n                            .then((res) => {\n                      \n                      \n                              //console.log(res.data.lista);\n                      \n                              console.log(res.message)\n                      \n                            })\n                      \n                            .catch((err) => {\n                              console.log(err.message);\n                      \n                                      });\n                        \n\n                      }} \n                       \n                      />\n          </View>\n        );\n      });\n    };\n\n\n    renderPosts = posts => {\n      \n      return posts.map((post,index) => {\n        \n        var name = post.username;\n        var url = post.posts;\n\n       return (<PostComponent imageSource={url} likes=\"101\" username = {name}/>  );\n\n       /* if(havePosts.length !=0){\n\n         \n\n          havePosts.forEach( post => {\n\n            console.log(post.urlpost);\n\n            return (\n              <View>\n              <PostComponent imageSource={post.urlpost} likes=\"101\" username = {name}/> </View>\n            );\n            \n          });\n\n        }*/\n\n       \n      });\n    };\n    \n\n    render() {\n\n    \n\n    \n\n        return (\n            <View style={{flex:1, height :100, backgroundColor : \"white\"}}>\n\n                \n                <Image source = {instalogo} style = {{width : 120 , height : 35 ,marginLeft : 20 , tintColor : \"black\", marginTop : 10 , marginBottom :10}}   ></Image>\n                <Image source = {dm} style = {{width : 25 , height : 25 , marginRight : 20 , alignSelf : \"flex-end\" , tintColor : \"black\", marginTop : -40 }}   ></Image>\n            \n                <Container style= {styles.container}>\n                <Content>\n\n                <View style={{ height: 100 }}>\n                        \n                        <View style={{ flex: 3 }}>\n                            <ScrollView\n                                horizontal={true}\n                                showsHorizontalScrollIndicator={false}\n                                contentContainerStyle={{\n                                    alignItems: 'center',\n                                    paddingStart: 5,\n                                    paddingEnd: 5\n                                }}\n\n                            >    \n                              {this.renderUsers(this.state.data)}\n\n                            </ScrollView>\n                        </View>\n                  </View>\n\n                  <View>\n                 \n                  {this.renderPosts(this.state.posts)}\n\n                  </View>\n\n                    {/* <PostComponent imageSource=\"1\" likes=\"101\" />\n                    <PostComponent imageSource=\"2\" likes=\"201\" />\n                    <PostComponent imageSource=\"3\" likes=\"301\" /> */}\n\n                  \n                    \n                </Content>\n            </Container>\n            </View>\n\n           \n           \n        );\n    }\n\n\n    \n\n    \n\n}\n\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor : \"white\",\n        marginTop : 15\n    }\n});\n\n\n\n\n \n   \nexport default Home;\n"]},"metadata":{},"sourceType":"module"}