{"ast":null,"code":"import AsyncStorage from \"@react-native-community/async-storage\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport { tokenConfig } from \"./AuthActions\";\nexport var SIGNUP_REQUEST = \"SIGNUP_REQUEST\";\nexport var SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport var SIGNUP_FAILURE = \"SIGNUP_FAILURE\";\nexport var signupRequest = function signupRequest() {\n  return {\n    type: SIGNUP_REQUEST\n  };\n};\nexport var signupSuccess = function signupSuccess(signupData) {\n  return {\n    type: SIGNUP_SUCCESS,\n    payload: signupData\n  };\n};\nexport var signupFailure = function signupFailure(errMsg) {\n  return {\n    type: SIGNUP_FAILURE,\n    payload: errMsg\n  };\n};\nexport var signup = function signup(signupData) {\n  console.log(localStorage.getItem(\"token\"));\n  return function (dispatch) {\n    dispatch(signupRequest());\n    axios({\n      method: \"post\",\n      url: \"/register\",\n      baseURL: \"http://localhost:3000\",\n      data: {\n        name: signupData.name,\n        username: signupData.username,\n        email: signupData.email,\n        password: signupData.password\n      },\n      headers: {\n        \"auth-token\": localStorage.getItem(\"token\")\n      }\n    }).then(function (res) {\n      if (res.data.value) {\n        dispatch(signupSuccess(signupData));\n      } else {\n        swal({\n          title: res.data.message,\n          icon: \"warning\"\n        });\n        dispatch(signupFailure(message));\n      }\n    }).catch(function (err) {\n      console.log(\"signupActions.js, Signup Request Error: \", err.response.message);\n      dispatch(signupFailure(\"Fail to Sign Up\"));\n    });\n  };\n};","map":{"version":3,"sources":["/home/sanata/Desktop/InpGram/InstaClone/src/actions/signupActions.js"],"names":["AsyncStorage","axios","swal","tokenConfig","SIGNUP_REQUEST","SIGNUP_SUCCESS","SIGNUP_FAILURE","signupRequest","type","signupSuccess","signupData","payload","signupFailure","errMsg","signup","console","log","localStorage","getItem","dispatch","method","url","baseURL","data","name","username","email","password","headers","then","res","value","title","message","icon","catch","err","response"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,uCAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,WAAT;AAEA,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,IAAMC,cAAc,GAAG,gBAAvB;AAGP,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACjC,SAAO;AACLC,IAAAA,IAAI,EAAEJ;AADD,GAAP;AAGD,CAJM;AAKP,OAAO,IAAMK,aAAa,GAAG,SAAhBA,aAAgB,CAACC,UAAD,EAAgB;AAC3C,SAAO;AACLF,IAAAA,IAAI,EAAEH,cADD;AAELM,IAAAA,OAAO,EAAED;AAFJ,GAAP;AAID,CALM;AAMP,OAAO,IAAME,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD,EAAY;AACvC,SAAO;AACLL,IAAAA,IAAI,EAAEF,cADD;AAELK,IAAAA,OAAO,EAAEE;AAFJ,GAAP;AAID,CALM;AAQP,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACJ,UAAD,EAAgB;AACpCK,EAAAA,OAAO,CAACC,GAAR,CAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,SAAO,UAACC,QAAD,EAAc;AACnBA,IAAAA,QAAQ,CAACZ,aAAa,EAAd,CAAR;AAEAN,IAAAA,KAAK,CAAC;AACJmB,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,WAFD;AAGJC,MAAAA,OAAO,EAAE,uBAHL;AAIJC,MAAAA,IAAI,EAAE;AACJC,QAAAA,IAAI,EAAEd,UAAU,CAACc,IADb;AAEJC,QAAAA,QAAQ,EAAEf,UAAU,CAACe,QAFjB;AAGJC,QAAAA,KAAK,EAAEhB,UAAU,CAACgB,KAHd;AAIJC,QAAAA,QAAQ,EAAEjB,UAAU,CAACiB;AAJjB,OAJF;AAWJC,MAAAA,OAAO,EAAE;AACP,sBAAcX,YAAY,CAACC,OAAb,CAAqB,OAArB;AADP;AAXL,KAAD,CAAL,CAeGW,IAfH,CAeQ,UAACC,GAAD,EAAS;AACb,UAAIA,GAAG,CAACP,IAAJ,CAASQ,KAAb,EAAoB;AAClBZ,QAAAA,QAAQ,CAACV,aAAa,CAACC,UAAD,CAAd,CAAR;AACD,OAFD,MAEO;AACLR,QAAAA,IAAI,CAAC;AACH8B,UAAAA,KAAK,EAAEF,GAAG,CAACP,IAAJ,CAASU,OADb;AAEHC,UAAAA,IAAI,EAAE;AAFH,SAAD,CAAJ;AAIAf,QAAAA,QAAQ,CAACP,aAAa,CAACqB,OAAD,CAAd,CAAR;AACD;AACF,KAzBH,EA0BGE,KA1BH,CA0BS,UAACC,GAAD,EAAS;AACdrB,MAAAA,OAAO,CAACC,GAAR,CACE,0CADF,EAEEoB,GAAG,CAACC,QAAJ,CAAaJ,OAFf;AAIAd,MAAAA,QAAQ,CAACP,aAAa,CAAC,iBAAD,CAAd,CAAR;AACD,KAhCH;AAiCD,GApCD;AAqCD,CAvCM","sourcesContent":["import AsyncStorage from \"@react-native-community/async-storage\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport { tokenConfig } from \"./AuthActions\";\n// action types\nexport const SIGNUP_REQUEST = \"SIGNUP_REQUEST\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_FAILURE = \"SIGNUP_FAILURE\";\n\n// action creators\nexport const signupRequest = () => {\n  return {\n    type: SIGNUP_REQUEST,\n  };\n};\nexport const signupSuccess = (signupData) => {\n  return {\n    type: SIGNUP_SUCCESS,\n    payload: signupData,\n  };\n};\nexport const signupFailure = (errMsg) => {\n  return {\n    type: SIGNUP_FAILURE,\n    payload: errMsg,\n  };\n};\n\n// async impure action creator enabled by redux-thunk\nexport const signup = (signupData) => {\n  console.log(localStorage.getItem(\"token\"));\n  return (dispatch) => {\n    dispatch(signupRequest());\n    //const signupUri = 'http://localhost:3000/register';\n    axios({\n      method: \"post\",\n      url: \"/register\",\n      baseURL: \"http://localhost:3000\",\n      data: {\n        name: signupData.name,\n        username: signupData.username,\n        email: signupData.email,\n        password: signupData.password,\n      },\n\n      headers: {\n        \"auth-token\": localStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        if (res.data.value) {\n          dispatch(signupSuccess(signupData));\n        } else {\n          swal({\n            title: res.data.message,\n            icon: \"warning\",\n          });\n          dispatch(signupFailure(message));\n        }\n      })\n      .catch((err) => {\n        console.log(\n          \"signupActions.js, Signup Request Error: \",\n          err.response.message\n        );\n        dispatch(signupFailure(\"Fail to Sign Up\"));\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}