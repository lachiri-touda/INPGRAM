{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/home/sanata/Desktop/InpGram/InstaClone/src/Screens/EditProfile/EditProfile.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport EditStyle from \"./EditStyle\";\nimport { Item, Input } from \"native-base\";\nimport { connect } from \"react-redux\";\nexport var ImageProfil = require(\"./imagea.jpeg\");\nvar styles = StyleSheet.create(_objectSpread({}, EditStyle));\nimport axios from \"axios\";\nimport { uploadprofilephoto as _uploadprofilephoto } from \"../../actions/postsActions\";\nimport { baseURL } from \"../../constants\";\nimport { Icon } from \"native-base\";\n\nvar EditProfile = function (_Component) {\n  _inherits(EditProfile, _Component);\n\n  var _super = _createSuper(EditProfile);\n\n  function EditProfile(props) {\n    var _this;\n\n    _classCallCheck(this, EditProfile);\n\n    _this = _super.call(this, props);\n\n    _this.UploadProfilePhoto = function () {\n      var Data = {\n        id: _this.props.userDetails,\n        url: _this.state.url\n      };\n\n      _this.props.uploadprofilephoto(Data);\n    };\n\n    _this.saveEditProfile = function () {\n      if (!_this.state.name) {\n        Alert.alert(\"Name is empty\");\n      } else if (!_this.state.username) {\n        Alert.alert(\"Username is empty\");\n      } else {\n        axios({\n          method: \"post\",\n          url: \"/EditProfile\",\n          baseURL: \"http://localhost:3000\",\n          data: {\n            userid: _this.props.userDetails,\n            name: _this.state.name,\n            username: _this.state.username,\n            website: _this.state.website,\n            bio: _this.state.bio\n          }\n        }).then(function (res) {\n          Alert.alert(\"Data is saved\");\n          console.log(res);\n          var message = res.data.message;\n\n          if (message === \"Profile updated succefully\") {\n            _this.props.navigation.navigate(\"Profile\");\n\n            Alert.alert(message);\n          }\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.fetchUserDetails = function (user_id) {\n      axios({\n        method: \"post\",\n        url: \"/getUserDetails\",\n        baseURL: \"http://localhost:3000\",\n        data: {\n          userid: user_id\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        _this.setState({\n          name: res.data.results[0].name\n        });\n\n        _this.setState({\n          username: res.data.results[0].username\n        });\n\n        _this.setState({\n          bio: res.data.results[0].bio\n        });\n\n        _this.setState({\n          website: res.data.results[0].website\n        });\n\n        _this.setState({\n          url: res.data.results[0].url\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.ChangePhoto = function () {};\n\n    _this.state = {\n      name: \"\",\n      username: \"\",\n      website: \"\",\n      bio: \"\",\n      url: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(EditProfile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.fetchUserDetails(this.props.userDetails);\n      this.willFocusSubscription = this.props.navigation.addListener(\"willFocus\", function () {\n        _this2.fetchUserDetails(_this2.props.userDetails);\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.willFocusSubscription.remove();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: styles.headerContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.userRow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        style: styles.userImage,\n        source: {\n          uri: this.state.url\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }\n      }), React.createElement(View, {\n        style: styles.changephoto,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }\n      }, React.createElement(TextInput, {\n        style: styles.TextInput,\n        placeholder: \"urlprofile\",\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            url: text\n          });\n        },\n        value: this.state.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }\n      }), React.createElement(Button, {\n        onPress: this.UploadProfilePhoto,\n        title: \"upload url\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }\n      })), React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.item1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }\n      }, \"Name\")), React.createElement(View, {\n        regular: true,\n        style: styles.item2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }\n      }, React.createElement(TextInput, {\n        style: styles.TextInput,\n        value: this.state.name,\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            name: text\n          });\n        },\n        autoCapitalize: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: styles.item1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }\n      }, \"Username\")), React.createElement(View, {\n        regular: true,\n        style: styles.item2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }\n      }, React.createElement(TextInput, {\n        style: styles.TextInput,\n        value: this.state.username,\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            username: text\n          });\n        },\n        autoCapitalize: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: styles.item1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 15\n        }\n      }, \"Website\")), React.createElement(View, {\n        regular: true,\n        style: styles.item2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }\n      }, React.createElement(TextInput, {\n        style: styles.TextInput,\n        value: this.state.website,\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            website: text\n          });\n        },\n        autoCapitalize: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: styles.item1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 15\n        }\n      }, \"Bio\")), React.createElement(View, {\n        regular: true,\n        style: styles.item2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }\n      }, React.createElement(TextInput, {\n        style: styles.TextBioInput,\n        value: this.state.bio,\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            bio: text\n          });\n        },\n        autoCapitalize: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 15\n        }\n      }))), React.createElement(Button, {\n        title: \"Save\",\n        onPress: this.saveEditProfile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return EditProfile;\n}(Component);\n\nEditProfile.navigationOptions = {\n  tabBarIcon: function tabBarIcon(_ref) {\n    var tintColor = _ref.tintColor;\n    return React.createElement(Icon, {\n      name: \"ios-pencil\",\n      style: {\n        color: tintColor\n      },\n      __self: EditProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    });\n  }\n};\n\nvar mapStatetoProps = function mapStatetoProps(state) {\n  return {\n    userDetails: state.loginReducer.userDetails\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    uploadprofilephoto: function uploadprofilephoto(Data) {\n      return dispatch(_uploadprofilephoto(Data));\n    }\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(EditProfile);","map":{"version":3,"sources":["/home/sanata/Desktop/InpGram/InstaClone/src/Screens/EditProfile/EditProfile.js"],"names":["React","Component","AsyncStorage","EditStyle","Item","Input","connect","ImageProfil","require","styles","StyleSheet","create","axios","uploadprofilephoto","baseURL","Icon","EditProfile","props","UploadProfilePhoto","Data","id","userDetails","url","state","saveEditProfile","name","Alert","alert","username","method","data","userid","website","bio","then","res","console","log","message","navigation","navigate","catch","err","fetchUserDetails","user_id","setState","results","ChangePhoto","willFocusSubscription","addListener","remove","headerContainer","userRow","userImage","uri","changephoto","TextInput","text","container","item1","item2","TextBioInput","navigationOptions","tabBarIcon","tintColor","color","mapStatetoProps","loginReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport {\n  View,\n  Text,\n  Image,\n  Button,\n  TextInput,\n  StyleSheet,\n  Alert,\n  AsyncStorage,\n} from \"react-native\";\n//import { launchImageLibrary} from 'react-native-image-picker';\n//import {AsyncStorage} from \"@react-native-async-storage/async-storage\"\n//import {AsyncStorage} from \"@react-native-community/async-storage\"\n//var ImagePicker = require('react-native-image-picker');\nimport EditStyle from \"./EditStyle\";\n//mport { Item } from 'react-native-paper/lib/typescript/src/components/List/List';\nimport { Item, Input } from \"native-base\";\nimport { connect } from \"react-redux\";\nexport const ImageProfil = require(\"./imagea.jpeg\");\nconst styles = StyleSheet.create({ ...EditStyle });\nimport axios from \"axios\";\nimport { uploadprofilephoto } from \"../../actions/postsActions\";\nimport { baseURL } from \"../../constants\";\n\nimport { Icon } from \"native-base\";\n\nclass EditProfile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      username: \"\",\n      website: \"\",\n      bio: \"\",\n      url: \"\",\n    };\n  }\n\n  static navigationOptions = {\n    tabBarIcon: ({ tintColor }) => (\n      <Icon name=\"ios-pencil\" style={{ color: tintColor }} />\n    ),\n  };\n\n  UploadProfilePhoto = () => {\n    const Data = {\n      id: this.props.userDetails,\n      url: this.state.url,\n    };\n    // calling signup() dispatch\n\n    this.props.uploadprofilephoto(Data);\n  };\n\n  saveEditProfile = () => {\n    if (!this.state.name) {\n      Alert.alert(\"Name is empty\");\n    } else if (!this.state.username) {\n      Alert.alert(\"Username is empty\");\n    } else {\n      axios({\n        method: \"post\",\n        url: \"/EditProfile\",\n        baseURL: \"http://localhost:3000\",\n        data: {\n          userid: this.props.userDetails,\n          name: this.state.name,\n          username: this.state.username,\n          website: this.state.website,\n          bio: this.state.bio,\n        },\n      })\n        .then((res) => {\n          Alert.alert(\"Data is saved\");\n          console.log(res);\n          const message = res.data.message;\n\n          if (message === \"Profile updated succefully\") {\n            this.props.navigation.navigate(\"Profile\");\n            Alert.alert(message);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  fetchUserDetails = (user_id) => {\n    axios({\n      method: \"post\",\n      url: \"/getUserDetails\",\n      baseURL: \"http://localhost:3000\",\n      data: {\n        userid: user_id,\n      },\n    })\n      .then((res) => {\n        console.log(res);\n        this.setState({ name: res.data.results[0].name });\n        this.setState({ username: res.data.results[0].username });\n        this.setState({ bio: res.data.results[0].bio });\n        this.setState({ website: res.data.results[0].website });\n        this.setState({ url: res.data.results[0].url });\n      })\n      .catch((err) => console.log(err));\n  };\n  /*async ComponentDidMount () {\n     \n  \n    AsyncStorage.getItem('name').then((value)=> this.setState({'name':value}));\n   \n    AsyncStorage.getItem('username').then((value)=> this.setState({'username':value}));\n    AsyncStorage.getItem('website').then((value)=> this.setState({'website':value}));\n    AsyncStorage.getItem('bio').then((value)=> this.setState({'bio':value}));\n\n}*/\n\n  componentDidMount() {\n    this.fetchUserDetails(this.props.userDetails);\n    this.willFocusSubscription = this.props.navigation.addListener(\n      \"willFocus\",\n      () => {\n        this.fetchUserDetails(this.props.userDetails);\n      }\n    );\n  }\n  /*componentWillMount() {\n  this.fetchUserDetails(this.props.userDetails);\n  this.willFocusSubscription = this.props.navigation.addListener(\n    'willFocus',\n    () => {\n      this.fetchUserDetails(this.props.userDetails);\n    }\n  );\n} */\n  componentWillUnmount() {\n    this.willFocusSubscription.remove();\n  }\n\n  ChangePhoto = () => {\n    /*const options ={\n      noData: true,\n    };\n\n  launchImageLibrary(options,response => {\n\n      console.log(\"response\",response);\n      if(response.uri){\n        this.setState({photo:response});\n      }\n    })*/\n  };\n  /*ChangePhoto = () => {\n  const options = {\n    title: 'Select Avatar',\n    customButtons: [{ name: 'fb', title: 'Choose Photo from Facebook' }],\n    storageOptions: {\n      skipBackup: true,\n      path: 'images',\n    },\n  };\n\nlaunchCamera(options, (response) => { // Use launchImageLibrary to open image gallery\n      console.log('Response = ', response);\n    \n      if (response.didCancel) {\n        console.log('User cancelled image picker');\n      } else if (response.error) {\n        console.log('ImagePicker Error: ', response.error);\n      } else if (response.customButton) {\n        console.log('User tapped custom button: ', response.customButton);\n      } else {\n        const source = { uri: response.uri };\n        this.setState({photo:response.uri});\n        // You can also display the image using data:\n        // const source = { uri: 'data:image/jpeg;base64,' + response.data };\n    \n        console.log(source)\n      }\n  }\n    )} */\n  /* setName = (value) => {\n    AsyncStorage.setItem('name',value);\n    this.setState({'name':value});\n  }\n\n  setUsername = (value) =>{\n     AsyncStorage.setItem('username',value);\n    this.setState({'username':value});\n  }\n\n  setWebsite = (value) =>{\n     AsyncStorage.setItem('website',value);\n    this.setState({'website':value});\n  }\n\n  setBio = (value) =>{\n      AsyncStorage.setItem('bio',value);\n    this.setState({'bio':value});\n  }*/\n\n  render() {\n    return (\n      <View style={styles.headerContainer}>\n        <View style={styles.userRow}>\n          <Image style={styles.userImage} source={{ uri: this.state.url }} />\n          <View style={styles.changephoto}>\n            <TextInput\n              style={styles.TextInput}\n              placeholder=\"urlprofile\"\n              onChangeText={(text) => this.setState({ url: text })}\n              value={this.state.url}\n            />\n\n            <Button onPress={this.UploadProfilePhoto} title=\"upload url\" />\n          </View>\n\n          <View style={styles.container}>\n            <View style={styles.item1}>\n              <Text>Name</Text>\n            </View>\n            <View regular style={styles.item2}>\n              <TextInput\n                style={styles.TextInput}\n                value={this.state.name}\n                onChangeText={(text) => this.setState({ name: text })}\n                autoCapitalize=\"none\"\n              />\n            </View>\n\n            <View style={styles.item1}>\n              <Text>Username</Text>\n            </View>\n            <View regular style={styles.item2}>\n              <TextInput\n                style={styles.TextInput}\n                value={this.state.username}\n                onChangeText={(text) => this.setState({ username: text })}\n                autoCapitalize=\"none\"\n              />\n            </View>\n\n            <View style={styles.item1}>\n              <Text>Website</Text>\n            </View>\n            <View regular style={styles.item2}>\n              <TextInput\n                style={styles.TextInput}\n                value={this.state.website}\n                onChangeText={(text) => this.setState({ website: text })}\n                autoCapitalize=\"none\"\n              />\n            </View>\n            <View style={styles.item1}>\n              <Text>Bio</Text>\n            </View>\n            <View regular style={styles.item2}>\n              <TextInput\n                style={styles.TextBioInput}\n                value={this.state.bio}\n                onChangeText={(text) => this.setState({ bio: text })}\n                autoCapitalize=\"none\"\n              />\n            </View>\n          </View>\n\n          <Button title=\"Save\" onPress={this.saveEditProfile} />\n        </View>\n      </View>\n    );\n  }\n}\nconst mapStatetoProps = (state) => {\n  return {\n    userDetails: state.loginReducer.userDetails,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    // only map needed dispatches here\n    uploadprofilephoto: (Data) => dispatch(uploadprofilephoto(Data)),\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(EditProfile);\n"]},"metadata":{},"sourceType":"module"}