{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/home/amine/Bureau/insta_last/InstaClone/src/client/Screens/Profile/Profile.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { editpost as _editpost } from \"../../actions/postsActions\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { uploadpost as _uploadpost } from \"../../actions/postsActions\";\nimport PostComponent from \"./PostComponent\";\nimport { TabView, TabBar, TabViewPagerScroll, TabViewPagerPan } from \"react-native-tab-view\";\nimport PropTypes from \"prop-types\";\nimport { image } from \"./utils\";\nimport profileStyles from \"./ProfileStyle\";\nexport var ImageProfil = require(\"./images/photo_cv.jpg\");\nvar styles = StyleSheet.create(_objectSpread({}, profileStyles));\nimport { Item, Input } from \"native-base\";\nimport Posts from \"./Posts\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { logout as _logout } from \"../../actions/loginActions\";\nimport { baseURL } from \"../../constants\";\nimport { Icon } from \"native-base\";\n\nvar Profile = function (_Component) {\n  _inherits(Profile, _Component);\n\n  var _super = _createSuper(Profile);\n\n  function Profile(_props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _super.call(this, _props);\n\n    _this.fetchUserDetails = function (user_id) {\n      axios({\n        method: \"post\",\n        url: \"/getUserDetails\",\n        baseURL: baseURL,\n        data: {\n          userid: user_id\n        }\n      }).then(function (res) {\n        _this.setState({\n          name: res.data.results[0].name\n        });\n\n        if (res.data.results[0].url) {\n          _this.setState({\n            url: res.data.results[0].url\n          });\n        }\n\n        _this.setState({\n          username: res.data.results[0].username\n        });\n\n        _this.setState({\n          bio: res.data.results[0].bio\n        });\n\n        _this.setState({\n          post: res.data.results[0].posts[0].urlpost\n        });\n\n        var reversePosts = res.data.results[0].posts.reverse();\n\n        _this.setState({\n          posts: reversePosts\n        });\n\n        _this.setState({\n          followers: res.data.results[0].followers\n        });\n\n        _this.setState({\n          following: res.data.results[0].following\n        });\n\n        console.log(res.data.results[0].posts);\n        var followersnumber = _this.state.followers.length;\n        var followingnumber = _this.state.following.length;\n\n        var newroutes = _toConsumableArray(_this.state.tabs.routes);\n\n        newroutes[0].count = _this.state.posts.length - 1;\n        newroutes[1].count = followingnumber;\n        newroutes[2].count = followersnumber;\n\n        _this.setState({\n          tabs: _objectSpread(_objectSpread({}, _this.state.tabs), {}, {\n            newroutes: newroutes\n          })\n        });\n\n        _this.UpdateFollowing(res.data.results[0].following);\n\n        _this.UpdateFollowers(res.data.results[0].followers);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.UpdateFollowing = function (following) {\n      axios({\n        method: \"post\",\n        url: \"/updatefollowing\",\n        baseURL: baseURL,\n        data: {\n          userid: _this.state.id,\n          following: following\n        }\n      }).then(function (res) {\n        var results = res.data.results;\n\n        _this.setState({\n          following: results.following\n        });\n\n        if (res.data.value) {}\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.UpdateFollowers = function (followers) {\n      axios({\n        method: \"post\",\n        url: \"/updatefollowers\",\n        baseURL: baseURL,\n        data: {\n          userid: _this.state.id,\n          followers: followers\n        }\n      }).then(function (res) {\n        var results = res.data.results;\n\n        _this.setState({\n          followers: results.followers\n        });\n\n        if (res.data.value) {}\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.onPressPlace = function () {\n      console.log(\"place\");\n    };\n\n    _this.clearAppData = function _callee() {\n      var keys;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getAllKeys());\n\n            case 3:\n              keys = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(AsyncStorage.multiRemove(keys));\n\n            case 6:\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(\"Error clearing app data.\");\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 8]], Promise);\n    };\n\n    _this.LogOut = function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.props.logout();\n\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(_this.clearAppData());\n\n            case 3:\n              _this.props.navigation.navigate(\"LogIn\");\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.handleIndexChange = function (index) {\n      _this.setState({\n        tabs: _objectSpread(_objectSpread({}, _this.state.tabs), {}, {\n          index: index\n        })\n      });\n    };\n\n    _this.renderTabBar = function (props) {\n      return React.createElement(TabBar, _extends({\n        indicatorStyle: styles.indicatorTab,\n        renderLabel: _this.renderLabel(props),\n        pressOpacity: 0.8,\n        style: styles.tabBar\n      }, props, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    _this.renderLabel = function (props) {\n      return function (_ref) {\n        var route = _ref.route;\n        var routes = props.navigationState.routes;\n        var labels = [];\n        routes.forEach(function (e, index) {\n          labels.push(index === props.navigationState.index ? \"black\" : \"gray\");\n        });\n        var currentIndex = parseInt(route.key) - 1;\n        var color = labels[currentIndex];\n        return React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 9\n          }\n        }, React.createElement(Animated.Text, {\n          style: [styles.tabLabelText, {\n            color: color\n          }],\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 11\n          }\n        }, route.count), React.createElement(Animated.Text, {\n          style: [styles.tabLabelNumber, {\n            color: color\n          }],\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 11\n          }\n        }, route.title));\n      };\n    };\n\n    _this.ItemSeparatorView = function () {\n      return React.createElement(View, {\n        style: {\n          height: 0.5,\n          width: \"100%\",\n          backgroundColor: \"#c8c8c8\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.ItemView = function (_ref2) {\n      var item = _ref2.item;\n\n      if (item.name) {\n        return React.createElement(View, {\n          style: styles.followUser,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          style: styles.itemUser,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: styles.userRow,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }\n        }, React.createElement(Image, {\n          style: styles.followImage,\n          source: {\n            uri: item.url\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }\n        }))), React.createElement(View, {\n          style: styles.itemUser2,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: styles.userRow,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }\n        }, React.createElement(TouchableOpacity, {\n          style: styles.button,\n          onPress: function onPress() {\n            if (item.Id) {\n              AsyncStorage.setItem(\"publicProfileId\", item.name._id);\n\n              _this.setState({\n                ProfilePubId: item.name._id\n              });\n\n              _this.props.navigation.navigate(\"ProfilePub\");\n            }\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 17\n          }\n        }, item.nameVrai)), React.createElement(Text, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }\n        }, item.usernameVrai))));\n      } else {\n        return React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 14\n          }\n        });\n      }\n    };\n\n    _this.renderPosts = function (posts) {\n      return posts.map(function (post, index) {\n        var name = _this.state.name;\n        var url = post.urlpost;\n        var caption = post.description;\n        var date = post.date;\n        var id = post.Id;\n        return React.createElement(PostComponent, {\n          imageSource: url,\n          likes: \"101\",\n          username: name,\n          userpicurl: _this.state.url,\n          caption: caption,\n          date: date,\n          Id: id,\n          userid: _this.state.id,\n          navigation: _this.props.navigation,\n          editpost: _this.props.editpost,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 9\n          }\n        });\n      });\n    };\n\n    _this.renderScene = function (_ref3) {\n      var key = _ref3.route.key;\n      var posts = _this.props.posts;\n\n      switch (key) {\n        case \"1\":\n          return _this.renderMansonry2Col();\n\n        case \"2\":\n          return React.createElement(View, {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 11\n            }\n          }, React.createElement(FlatList, {\n            data: _this.state.following,\n            keyExtractor: function keyExtractor(item, index) {\n              return index.toString();\n            },\n            ItemSeparatorComponent: _this.ItemSeparatorView,\n            renderItem: _this.ItemView,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 13\n            }\n          }));\n\n        case \"3\":\n          return React.createElement(View, {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 11\n            }\n          }, React.createElement(FlatList, {\n            data: _this.state.followers,\n            keyExtractor: function keyExtractor(item, index) {\n              return index.toString();\n            },\n            ItemSeparatorComponent: _this.ItemSeparatorView,\n            renderItem: _this.ItemView,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 13\n            }\n          }));\n\n        default:\n          return React.createElement(View, {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 16\n            }\n          });\n      }\n    };\n\n    _this.following = function () {\n      return _this.state.following.map(function (user, index) {\n        return React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 11\n          }\n        }, \" \", user.name.username, \" \"));\n      });\n    };\n\n    _this.followers = function () {\n      return _this.state.followers.map(function (user, index) {\n        return React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 11\n          }\n        }, \" \", user.name.username, \" \"));\n      });\n    };\n\n    _this.EditPic = function () {\n      var postdata = {\n        urlpost: _this.state.url,\n        description: \"\",\n        userid: _this.state.id,\n        Id: \"\"\n      };\n\n      _this.props.editpost(postdata);\n\n      _this.props.navigation.navigate(\"EditPic\");\n    };\n\n    _this.renderContactHeader = function () {\n      return React.createElement(View, {\n        style: styles.headerContainer,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.item,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.userRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        style: styles.userImage,\n        source: {\n          uri: _this.state.url\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }\n      }))), React.createElement(View, {\n        style: styles.item2,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          height: 70,\n          marginTop: 10,\n          marginRight: 50\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }\n      }, React.createElement(Button, {\n        title: \"logout\",\n        onPress: _this.LogOut,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }\n      })), React.createElement(View, {\n        style: styles.userRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }\n      }, React.createElement(Button, {\n        onPress: function onPress() {\n          return _this.props.navigation.navigate(\"EditProfile\");\n        },\n        title: \"Edit Profil\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }\n      }), React.createElement(Button, {\n        onPress: function onPress() {\n          return _this.EditPic();\n        },\n        title: \"Edit pdp\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }\n      })), React.createElement(View, {\n        style: styles.userRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.userNameRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.userNameText,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 15\n        }\n      }, _this.state.name)), React.createElement(View, {\n        style: styles.userNameRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.userNameText,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 15\n        }\n      }, \"@\", _this.state.username)), React.createElement(View, {\n        style: styles.userBioRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.userBioText,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 15\n        }\n      }, _this.state.bio)))));\n    };\n\n    _this.renderMansonry2Col = function () {\n      if (_this.state.posts.length < 2) {\n        return React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 11\n          }\n        }, \"AUCUN POST \"));\n      } else {\n        return React.createElement(View, {\n          style: styles.masonryContainer,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }\n        }, _this.renderPosts(_this.state.posts))));\n      }\n    };\n\n    _this.state = {\n      authToken: _this.props.authToken,\n      id: _this.props.userDetails,\n      name: \"\",\n      url: \"\",\n      description: \"\",\n      username: \"\",\n      urlpost: \"\",\n      bio: \"\",\n      post: \"\",\n      ProfilePubId: \"\",\n      posts: [],\n      tabs: {\n        index: 0,\n        routes: [{\n          key: \"1\",\n          title: \"Posts\",\n          count: \"0\"\n        }, {\n          key: \"2\",\n          title: \"following\",\n          count: \"0\"\n        }, {\n          key: \"3\",\n          title: \"followers\",\n          count: \"0\"\n        }]\n      },\n      postsMasonry: {},\n      following: [],\n      followers: []\n    };\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.fetchUserDetails(this.props.userDetails);\n      this.willFocusSubscription = this.props.navigation.addListener(\"willFocus\", function () {\n        _this2.fetchUserDetails(_this2.props.userDetails);\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.isUploaded) {\n        this.props.navigation.navigate(\"Profile\");\n      }\n\n      if (!this.props.isUploaded && !this.props.isLoading) {}\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.isUploaded !== this.props.isUploaded) {\n        this.fetchUserDetails(this.props.userDetails);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.willFocusSubscription.remove();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ScrollView, {\n        style: styles.scroll,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: [styles.container, this.props.containerStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.cardContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }\n      }, this.renderContactHeader(), React.createElement(TabView, {\n        style: [styles.tabContainer, this.props.tabContainerStyle],\n        navigationState: this.state.tabs,\n        renderScene: this.renderScene,\n        renderTabBar: this.renderTabBar,\n        onIndexChange: this.handleIndexChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nProfile.navigationOptions = {\n  tabBarIcon: function tabBarIcon(_ref4) {\n    var tintColor = _ref4.tintColor;\n    return React.createElement(Icon, {\n      name: \"person\",\n      style: {\n        color: tintColor\n      },\n      __self: Profile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    });\n  }\n};\n\nvar mapStatetoProps = function mapStatetoProps(state) {\n  return {\n    authToken: state.loginReducer.authToken,\n    userDetails: state.loginReducer.userDetails,\n    isLoading: state.postsReducer.isLoading,\n    isUploaded: state.postsReducer.isUploaded,\n    errMsg: state.postsReducer.errMsg,\n    ProfilePubId: state.ProfilePubId\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    logout: function logout() {\n      return dispatch(_logout());\n    },\n    uploadpost: function uploadpost(Data) {\n      return dispatch(_uploadpost(Data));\n    },\n    editpost: function editpost(postdata) {\n      return dispatch(_editpost(postdata));\n    }\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["/home/amine/Bureau/insta_last/InstaClone/src/client/Screens/Profile/Profile.js"],"names":["React","Component","editpost","AsyncStorage","uploadpost","PostComponent","TabView","TabBar","TabViewPagerScroll","TabViewPagerPan","PropTypes","image","profileStyles","ImageProfil","require","styles","StyleSheet","create","Item","Input","Posts","connect","axios","logout","baseURL","Icon","Profile","props","fetchUserDetails","user_id","method","url","data","userid","then","res","setState","name","results","username","bio","post","posts","urlpost","reversePosts","reverse","followers","following","console","log","followersnumber","state","length","followingnumber","newroutes","tabs","routes","count","UpdateFollowing","UpdateFollowers","catch","err","id","value","onPressPlace","clearAppData","getAllKeys","keys","multiRemove","error","LogOut","navigation","navigate","handleIndexChange","index","renderTabBar","indicatorTab","renderLabel","tabBar","route","navigationState","labels","forEach","e","push","currentIndex","parseInt","key","color","tabLabelText","tabLabelNumber","title","ItemSeparatorView","height","width","backgroundColor","ItemView","item","followUser","itemUser","userRow","followImage","uri","itemUser2","button","Id","setItem","_id","ProfilePubId","nameVrai","usernameVrai","renderPosts","map","caption","description","date","renderScene","renderMansonry2Col","toString","user","EditPic","postdata","renderContactHeader","headerContainer","userImage","item2","marginTop","marginRight","userNameRow","userNameText","userBioRow","userBioText","masonryContainer","authToken","userDetails","postsMasonry","willFocusSubscription","addListener","isUploaded","isLoading","newProps","remove","scroll","container","containerStyle","cardContainer","tabContainer","tabContainerStyle","navigationOptions","tabBarIcon","tintColor","mapStatetoProps","loginReducer","postsReducer","errMsg","mapDispatchToProps","dispatch","Data"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Animated,\n  Image,\n  TextInput,\n  Button,\n  ScrollView,\n  Alert,\n  StyleSheet,\n  Text,\n  FlatList,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { editpost } from \"../../actions/postsActions\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\n//import { Icon } from 'react-native-elements'\nimport { uploadpost } from \"../../actions/postsActions\";\nimport PostComponent from \"./PostComponent\";\n\nimport {\n  TabView,\n  TabBar,\n  TabViewPagerScroll,\n  TabViewPagerPan,\n} from \"react-native-tab-view\";\nimport PropTypes from \"prop-types\";\nimport { image } from \"./utils\";\nimport profileStyles from \"./ProfileStyle\";\nexport const ImageProfil = require(\"./images/photo_cv.jpg\");\nconst styles = StyleSheet.create({ ...profileStyles });\nimport { Item, Input } from \"native-base\";\nimport Posts from \"./Posts\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { logout } from \"../../actions/loginActions\";\nimport { baseURL } from \"../../constants\";\n\nimport { Icon } from \"native-base\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authToken: this.props.authToken,\n      id: this.props.userDetails,\n      name: \"\",\n      url: \"\",\n      description: \"\",\n      username: \"\",\n      urlpost: \"\",\n      bio: \"\",\n      post: \"\",\n      ProfilePubId: \"\",\n      posts: [],\n      tabs: {\n        index: 0,\n        routes: [\n          { key: \"1\", title: \"Posts\", count: \"0\" },\n          { key: \"2\", title: \"following\", count: \"0\" },\n          { key: \"3\", title: \"followers\", count: \"0\" },\n        ],\n      },\n      postsMasonry: {},\n\n      following: [],\n\n      followers: [],\n    };\n  }\n\n  static navigationOptions = {\n    tabBarIcon: ({ tintColor }) => (\n      <Icon name=\"person\" style={{ color: tintColor }} />\n    ),\n  };\n\n  fetchUserDetails = (user_id) => {\n    axios({\n      method: \"post\",\n      url: \"/getUserDetails\",\n      baseURL: baseURL,\n      data: {\n        userid: user_id,\n      },\n    })\n      .then((res) => {\n        this.setState({ name: res.data.results[0].name });\n\n        if (res.data.results[0].url) {\n          this.setState({ url: res.data.results[0].url });\n        }\n\n        this.setState({ username: res.data.results[0].username });\n        this.setState({ bio: res.data.results[0].bio });\n        this.setState({ post: res.data.results[0].posts[0].urlpost });\n\n        const reversePosts = res.data.results[0].posts.reverse();\n\n        this.setState({ posts: reversePosts });\n       \n\n        this.setState({ followers: res.data.results[0].followers });\n        this.setState({ following: res.data.results[0].following });\n        console.log(res.data.results[0].posts)\n        var followersnumber = this.state.followers.length;\n        var followingnumber = this.state.following.length;\n        var newroutes = [...this.state.tabs.routes];\n        newroutes[0].count = this.state.posts.length - 1;\n        newroutes[1].count = followingnumber;\n        newroutes[2].count = followersnumber;\n        this.setState({\n          tabs: {\n            ...this.state.tabs,\n            newroutes,\n          },\n        });\n        this.UpdateFollowing(res.data.results[0].following);\n        this.UpdateFollowers(res.data.results[0].followers);\n        \n      })\n      .catch((err) => console.log(err));\n  };\n  UpdateFollowing = (following) => {\n    axios({\n      method: \"post\",\n      url: \"/updatefollowing\",\n      baseURL: baseURL,\n      data: {\n        userid: this.state.id,\n        following: following,\n      },\n    })\n      .then((res) => {\n        const results = res.data.results;\n        this.setState({ following: results.following });\n\n        if (res.data.value) {\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n  UpdateFollowers = (followers) => {\n    axios({\n      method: \"post\",\n      url: \"/updatefollowers\",\n      baseURL: baseURL,\n      data: {\n        userid: this.state.id,\n        followers: followers,\n      },\n    })\n      .then((res) => {\n        const results = res.data.results;\n        this.setState({ followers: results.followers });\n\n        if (res.data.value) {\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  onPressPlace = () => {\n    console.log(\"place\");\n  };\n  componentDidMount() {\n    this.fetchUserDetails(this.props.userDetails);\n\n    this.willFocusSubscription = this.props.navigation.addListener(\n      \"willFocus\",\n      () => {\n        this.fetchUserDetails(this.props.userDetails);\n      }\n    );\n  }\n\n  componentDidUpdate() {\n    if (this.props.isUploaded) {\n      // Alert.alert(\"POST UPLOADED\");\n      this.props.navigation.navigate(\"Profile\");\n    }\n    if (!this.props.isUploaded && !this.props.isLoading) {\n      //Alert.alert(this.props.errMsg);\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.isUploaded !== this.props.isUploaded) {\n      this.fetchUserDetails(this.props.userDetails);\n    }\n  }\n  clearAppData = async () => {\n    try {\n      const keys = await AsyncStorage.getAllKeys();\n      await AsyncStorage.multiRemove(keys);\n    } catch (error) {\n      console.error(\"Error clearing app data.\");\n    }\n  };\n  componentWillUnmount() {\n    this.willFocusSubscription.remove();\n  }\n\n  LogOut = async () => {\n    this.props.logout();\n    await this.clearAppData();\n    this.props.navigation.navigate(\"LogIn\");\n  };\n  handleIndexChange = (index) => {\n    this.setState({\n      tabs: {\n        ...this.state.tabs,\n        index,\n      },\n    });\n  };\n\n  renderTabBar = (props) => {\n    return (\n      <TabBar\n        indicatorStyle={styles.indicatorTab}\n        renderLabel={this.renderLabel(props)}\n        pressOpacity={0.8}\n        style={styles.tabBar}\n        {...props}\n      />\n    );\n  };\n\n  renderLabel =\n    (props) =>\n    ({ route }) => {\n      const routes = props.navigationState.routes;\n\n      let labels = [];\n      routes.forEach((e, index) => {\n        labels.push(index === props.navigationState.index ? \"black\" : \"gray\");\n      });\n\n      const currentIndex = parseInt(route.key) - 1;\n      const color = labels[currentIndex];\n\n      return (\n        <View>\n          <Animated.Text style={[styles.tabLabelText, { color }]}>\n            {route.count}\n          </Animated.Text>\n          <Animated.Text style={[styles.tabLabelNumber, { color }]}>\n            {route.title}\n          </Animated.Text>\n        </View>\n      );\n    };\n\n  ItemSeparatorView = () => {\n    return (\n      <View\n        style={{ height: 0.5, width: \"100%\", backgroundColor: \"#c8c8c8\" }}\n      />\n    );\n  };\n\n  ItemView = ({ item }) => {\n    if (item.name) {\n      return (\n        <View style={styles.followUser}>\n          <View style={styles.itemUser}>\n            <View style={styles.userRow}>\n              <Image style={styles.followImage} source={{ uri: item.url }} />\n            </View>\n          </View>\n          <View style={styles.itemUser2}>\n            <View style={styles.userRow}>\n              <TouchableOpacity\n                style={styles.button}\n                onPress={() => {\n                  if (item.Id) {\n                    AsyncStorage.setItem(\"publicProfileId\", item.name._id);\n                    this.setState({ ProfilePubId: item.name._id });\n                    this.props.navigation.navigate(\"ProfilePub\");\n                  }\n                }}\n              >\n                <Text>{item.nameVrai}</Text>\n              </TouchableOpacity>\n              <Text>{item.usernameVrai}</Text>\n            </View>\n          </View>\n        </View>\n      );\n    } else {\n      return <View></View>;\n    }\n  };\n\n  renderPosts = (posts) => {\n    return posts.map((post, index) => {\n      var name = this.state.name;\n      var url = post.urlpost;\n      var caption = post.description;\n      var date = post.date;\n      var id = post.Id;\n      return (\n        <PostComponent\n          imageSource={url}\n          likes=\"101\"\n          username={name}\n          userpicurl={this.state.url}\n          caption={caption}\n          date={date}\n          Id={id}\n          userid={this.state.id}\n          navigation={this.props.navigation}\n          editpost={this.props.editpost}\n        />\n      );\n    });\n  };\n\n  renderScene = ({ route: { key } }) => {\n    const { posts } = this.props;\n\n    switch (key) {\n      case \"1\":\n        return this.renderMansonry2Col();\n      case \"2\":\n        return (\n          <View>\n            <FlatList\n              data={this.state.following}\n              keyExtractor={(item, index) => index.toString()}\n              ItemSeparatorComponent={this.ItemSeparatorView}\n              renderItem={this.ItemView}\n            />\n          </View>\n        );\n      case \"3\":\n        return (\n          <View>\n            <FlatList\n              data={this.state.followers}\n              keyExtractor={(item, index) => index.toString()}\n              ItemSeparatorComponent={this.ItemSeparatorView}\n              renderItem={this.ItemView}\n            />\n          </View>\n        );\n\n      default:\n        return <View />;\n    }\n  };\n\n  following = () => {\n    return this.state.following.map((user, index) => {\n      return (\n        <View>\n          <Text> {user.name.username} </Text>\n        </View>\n      );\n    });\n  };\n\n  followers = () => {\n    return this.state.followers.map((user, index) => {\n      return (\n        <View>\n          <Text> {user.name.username} </Text>\n        </View>\n      );\n    });\n  };\n\n  EditPic = () => {\n    const postdata = {\n      urlpost: this.state.url,\n      description: \"\",\n      userid: this.state.id,\n      Id: \"\",\n    };\n\n    this.props.editpost(postdata);\n    this.props.navigation.navigate(\"EditPic\");\n  };\n  renderContactHeader = () => {\n    return (\n      <View style={styles.headerContainer}>\n        <View style={styles.item}>\n          <View style={styles.userRow}>\n            <Image style={styles.userImage} source={{ uri: this.state.url }} />\n          </View>\n        </View>\n\n        <View style={styles.item2}>\n          <View style={{ height: 70, marginTop: 10, marginRight: 50 }}>\n            <Button title=\"logout\" onPress={this.LogOut} />\n          </View>\n\n          <View style={styles.userRow}>\n            <Button\n              onPress={() => this.props.navigation.navigate(\"EditProfile\")}\n              title=\"Edit Profil\"\n            />\n            <Button onPress={() => this.EditPic()} title=\"Edit pdp\" />\n          </View>\n          <View style={styles.userRow}>\n            <View style={styles.userNameRow}>\n              <Text style={styles.userNameText}>{this.state.name}</Text>\n            </View>\n            <View style={styles.userNameRow}>\n              <Text style={styles.userNameText}>@{this.state.username}</Text>\n            </View>\n            <View style={styles.userBioRow}>\n              <Text style={styles.userBioText}>{this.state.bio}</Text>\n            </View>\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  renderMansonry2Col = () => {\n    if (this.state.posts.length < 2) {\n      return (\n        <View>\n          <Text>AUCUN POST </Text>\n        </View>\n      );\n    } else {\n      return (\n        <View style={styles.masonryContainer}>\n          <View>\n            <View>{this.renderPosts(this.state.posts)}</View>\n          </View>\n        </View>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <ScrollView style={styles.scroll}>\n        <View style={[styles.container, this.props.containerStyle]}>\n          <View style={styles.cardContainer}>\n            {this.renderContactHeader()}\n\n            <TabView\n              style={[styles.tabContainer, this.props.tabContainerStyle]}\n              navigationState={this.state.tabs}\n              renderScene={this.renderScene}\n              renderTabBar={this.renderTabBar}\n              onIndexChange={this.handleIndexChange}\n            />\n          </View>\n        </View>\n      </ScrollView>\n    );\n  }\n}\n\nconst mapStatetoProps = (state) => {\n  return {\n    authToken: state.loginReducer.authToken,\n    userDetails: state.loginReducer.userDetails,\n    isLoading: state.postsReducer.isLoading,\n    isUploaded: state.postsReducer.isUploaded,\n    errMsg: state.postsReducer.errMsg,\n    ProfilePubId: state.ProfilePubId,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    // only map needed dispatches here\n    logout: () => dispatch(logout()),\n    uploadpost: (Data) => dispatch(uploadpost(Data)),\n    editpost: (postdata) => dispatch(editpost(postdata)),\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(Profile);\n"]},"metadata":{},"sourceType":"module"}