{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _jsxFileName = \"/home/sanata/Desktop/InpGram/InstaClone/src/Screens/Home/Search.js\",\n    _this2 = this;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AuthStyle from \"./AuthStyle\";\nimport { connect } from \"react-redux\";\nvar styles1 = StyleSheet.create(_objectSpread({}, AuthStyle));\nimport { SearchBar } from \"react-native-elements\";\nimport axios from \"axios\";\nimport { Icon } from \"native-base\";\n\nfunction Search(props) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      filtredData = _useState2[0],\n      setfilteredData = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      masterData = _useState4[0],\n      setmasterData = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      search = _useState6[0],\n      setsearch = _useState6[1];\n\n  useEffect(function () {\n    fetchUsers();\n    return function () {};\n  }, []);\n\n  var fetchUsers = function fetchUsers() {\n    axios({\n      method: \"post\",\n      url: \"/listUsers\",\n      baseURL: \"http://localhost:3000\"\n    }).then(function (res) {\n      setfilteredData(res.data.lista);\n      setmasterData(res.data.lista);\n    }).catch(function (err) {\n      console.log(err.message);\n    });\n  };\n\n  var searchFilter = function searchFilter(text) {\n    setsearch(text);\n\n    if (text) {\n      var newData = masterData.filter(function (item) {\n        var itemData = item.name ? item.name.toUpperCase() : \"\".toUpperCase();\n        var textData = text.toUpperCase();\n        return itemData.indexOf(textData) > -1;\n      });\n      setfilteredData(newData);\n    } else {\n      setfilteredData(masterData);\n    }\n  };\n\n  var ItemView = function ItemView(_ref) {\n    var item = _ref.item;\n    return React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: styles.button,\n      onPress: onPress,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, item.name)));\n  };\n\n  var ItemSeparatorView = function ItemSeparatorView() {\n    return React.createElement(View, {\n      style: {\n        height: 0.5,\n        width: \"100%\",\n        backgroundColor: \"#c8c8c8\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, React.createElement(SearchBar, {\n    onChangeText: function onChangeText(text) {\n      return searchFilter(text);\n    },\n    placeholder: \"Type username here...\",\n    placeholderTextColor: \"#edf6f9\",\n    cancelButtonTitle: \"Cancel\",\n    onCancel: function (_onCancel) {\n      function onCancel() {\n        return _onCancel.apply(this, arguments);\n      }\n\n      onCancel.toString = function () {\n        return _onCancel.toString();\n      };\n\n      return onCancel;\n    }(function () {\n      return console.log(onCancel());\n    }),\n    value: search,\n    inputContainerStyle: {\n      backgroundColor: \"#bde0fe\"\n    },\n    leftIconContainerStyle: {\n      backgroundColor: \"#bde0fe\"\n    },\n    inputStyle: {\n      backgroundColor: \"#bde0fe\"\n    },\n    containerStyle: {\n      backgroundColor: \"#a2d2ff\",\n      borderWidth: 1,\n      borderRadius: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), React.createElement(FlatList, {\n    data: filtredData,\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    ItemSeparatorComponent: ItemSeparatorView,\n    renderItem: ItemView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }));\n}\n\nSearch[\"navigationOptions\"] = {\n  tabBarIcon: function tabBarIcon(_ref2) {\n    var tintColor = _ref2.tintColor;\n    return React.createElement(Icon, {\n      name: \"ios-search\",\n      style: {\n        color: tintColor\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 5\n      }\n    });\n  }\n};\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\"\n  },\n  itemStyle: {\n    padding: 10\n  },\n  textInputStyle: {\n    height: 50,\n    borderWidth: 1,\n    paddingLeft: 20,\n    margin: 5,\n    borderColor: \"#009688\",\n    backgroundColor: \"white\"\n  },\n  button: {\n    alignItems: \"center\",\n    backgroundColor: \"#DDDDDD\",\n    padding: 10\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authToken: state.loginReducer.authToken\n  };\n};\n\nexport default connect(mapStateToProps)(Search);","map":{"version":3,"sources":["/home/sanata/Desktop/InpGram/InstaClone/src/Screens/Home/Search.js"],"names":["React","useState","useRef","useEffect","AuthStyle","connect","styles1","StyleSheet","create","SearchBar","axios","Icon","Search","props","filtredData","setfilteredData","masterData","setmasterData","search","setsearch","fetchUsers","method","url","baseURL","then","res","data","lista","catch","err","console","log","message","searchFilter","text","newData","filter","item","itemData","name","toUpperCase","textData","indexOf","ItemView","styles","button","onPress","ItemSeparatorView","height","width","backgroundColor","container","onCancel","borderWidth","borderRadius","index","toString","tabBarIcon","tintColor","color","itemStyle","padding","textInputStyle","paddingLeft","margin","borderColor","alignItems","mapStateToProps","state","authToken","loginReducer"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport {\n  SafeAreaView,\n  View,\n  Button,\n  TextInput,\n  Text,\n  Alert,\n  StyleSheet,\n  FlatList,\n  TouchableOpacity,\n} from \"react-native\";\nimport AuthStyle from \"./AuthStyle\";\nimport { connect } from \"react-redux\";\nconst styles1 = StyleSheet.create({ ...AuthStyle });\nimport { SearchBar } from \"react-native-elements\";\nimport axios from \"axios\";\nimport { Icon } from \"native-base\";\n\nfunction Search(props) {\n  const [filtredData, setfilteredData] = useState([]);\n  const [masterData, setmasterData] = useState([]);\n  const [search, setsearch] = useState(\"\");\n\n  useEffect(() => {\n    fetchUsers();\n    return () => {};\n  }, []);\n\n  const fetchUsers = () => {\n    axios({\n      method: \"post\",\n      url: \"/listUsers\",\n      baseURL: \"http://localhost:3000\",\n    })\n      .then((res) => {\n        //console.log(res.data.lista);\n        setfilteredData(res.data.lista);\n        setmasterData(res.data.lista);\n      })\n\n      .catch((err) => {\n        console.log(err.message);\n      });\n  };\n\n  const searchFilter = (text) => {\n    setsearch(text);\n    if (text) {\n      const newData = masterData.filter((item) => {\n        const itemData = item.name ? item.name.toUpperCase() : \"\".toUpperCase();\n        const textData = text.toUpperCase();\n        return itemData.indexOf(textData) > -1;\n      });\n      setfilteredData(newData);\n    } else {\n      setfilteredData(masterData);\n    }\n  };\n\n  const ItemView = ({ item }) => {\n    return (\n      <View>\n        <TouchableOpacity style={styles.button} onPress={onPress}>\n          <Text>{item.name}</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  };\n\n  const ItemSeparatorView = () => {\n    return (\n      <View\n        style={{ height: 0.5, width: \"100%\", backgroundColor: \"#c8c8c8\" }}\n      />\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <SearchBar\n        onChangeText={(text) => searchFilter(text)}\n        placeholder=\"Type username here...\"\n        placeholderTextColor=\"#edf6f9\"\n        cancelButtonTitle=\"Cancel\"\n        onCancel={() => console.log(onCancel())}\n        value={search}\n        inputContainerStyle={{ backgroundColor: \"#bde0fe\" }}\n        leftIconContainerStyle={{ backgroundColor: \"#bde0fe\" }}\n        inputStyle={{ backgroundColor: \"#bde0fe\" }}\n        containerStyle={{\n          backgroundColor: \"#a2d2ff\",\n          borderWidth: 1,\n          borderRadius: 5,\n        }}\n      />\n      <FlatList\n        data={filtredData}\n        keyExtractor={(item, index) => index.toString()}\n        ItemSeparatorComponent={ItemSeparatorView}\n        renderItem={ItemView}\n      />\n    </View>\n  );\n}\n\nSearch[\"navigationOptions\"] = {\n  tabBarIcon: ({ tintColor }) => (\n    <Icon name=\"ios-search\" style={{ color: tintColor }} />\n  ),\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n  },\n  itemStyle: {\n    padding: 10,\n  },\n  textInputStyle: {\n    height: 50,\n    borderWidth: 1,\n    paddingLeft: 20,\n    margin: 5,\n    borderColor: \"#009688\",\n    backgroundColor: \"white\",\n  },\n  button: {\n    alignItems: \"center\",\n    backgroundColor: \"#DDDDDD\",\n    padding: 10,\n  },\n});\n\nconst mapStateToProps = (state) => {\n  return {\n    authToken: state.loginReducer.authToken,\n  };\n};\n\nexport default connect(mapStateToProps)(Search);\n"]},"metadata":{},"sourceType":"module"}