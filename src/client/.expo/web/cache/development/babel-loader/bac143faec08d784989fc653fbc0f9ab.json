{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _jsxFileName = \"/Users/mac/I/InstaClone/src/client/Screens/Home/Search.js\",\n    _this2 = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport AuthStyle from \"./style/AuthStyle\";\nimport { connect } from \"react-redux\";\nimport { SearchBar } from \"react-native-elements\";\nimport axios from \"axios\";\nimport { Icon } from \"native-base\";\nimport { ForceTouchGestureHandler } from \"react-native-gesture-handler\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { baseURL } from \"../../constants\";\nimport { SearchStyle } from \"./SearchStyle\";\nvar styles = StyleSheet.create(_objectSpread({}, SearchStyle));\n\nfunction Search(props) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      filtredData = _useState2[0],\n      setfilteredData = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      masterData = _useState4[0],\n      setmasterData = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      search = _useState6[0],\n      setsearch = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      Id = _useState8[0],\n      setId = _useState8[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var value;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"Id\"));\n\n            case 2:\n              value = _context.sent;\n              setId(value);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n\n    fetchUsers();\n    return function () {};\n  }, []);\n\n  var fetchUsers = function fetchUsers() {\n    axios({\n      method: \"post\",\n      url: \"/listUsers\",\n      baseURL: baseURL\n    }).then(function (res) {\n      setfilteredData(res.data.lista);\n      setmasterData(res.data.lista);\n    }).catch(function (err) {\n      console.log(err.message);\n    });\n  };\n\n  var searchFilter = function searchFilter(text) {\n    setsearch(text);\n\n    if (text) {\n      var newData = masterData.filter(function (item) {\n        var itemData = item.name ? item.name.toUpperCase() : \"\".toUpperCase();\n        var textData = text.toUpperCase();\n        return itemData.indexOf(textData) > -1;\n      });\n      setfilteredData(newData);\n    } else {\n      setfilteredData(masterData);\n    }\n  };\n\n  var getIdValue = function getIdValue() {\n    var value;\n    return _regeneratorRuntime.async(function getIdValue$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"Id\"));\n\n          case 2:\n            value = _context2.sent;\n            setId(value);\n            return _context2.abrupt(\"return\", value);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var ItemView = function ItemView(_ref) {\n    var item = _ref.item;\n    return React.createElement(View, {\n      style: styl.followUser,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: styl.itemUser,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styl.userRow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, React.createElement(Image, {\n      style: styl.followImage,\n      source: {\n        uri: item.url\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }))), React.createElement(View, {\n      style: styl.itemUser2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styl.userRow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: styl.button,\n      onPress: function onPress() {\n        if (item.Id === Id) {\n          props.navigation.navigate(\"Profile\");\n        } else {\n          console.log(\"toudaaaa\");\n          AsyncStorage.setItem(\"publicProfileId\", item.Id);\n          props.navigation.navigate(\"ProfilePub\");\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, item.name)), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, item.usernameVrai))));\n  };\n\n  var ItemSeparatorView = function ItemSeparatorView() {\n    return React.createElement(View, {\n      style: {\n        height: 0.5,\n        width: \"100%\",\n        backgroundColor: \"#c8c8c8\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, React.createElement(SearchBar, {\n    onChangeText: function onChangeText(text) {\n      return searchFilter(text);\n    },\n    placeholder: \"Type username here...\",\n    placeholderTextColor: \"#edf6f9\",\n    cancelButtonTitle: \"Cancel\",\n    onCancel: function (_onCancel) {\n      function onCancel() {\n        return _onCancel.apply(this, arguments);\n      }\n\n      onCancel.toString = function () {\n        return _onCancel.toString();\n      };\n\n      return onCancel;\n    }(function () {\n      return console.log(onCancel());\n    }),\n    value: search,\n    inputContainerStyle: {\n      backgroundColor: \"#bde0fe\"\n    },\n    leftIconContainerStyle: {\n      backgroundColor: \"#bde0fe\"\n    },\n    inputStyle: {\n      backgroundColor: \"#bde0fe\"\n    },\n    containerStyle: {\n      marginTop: 26,\n      backgroundColor: \"#a2d2ff\",\n      borderWidth: 1,\n      borderRadius: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }), React.createElement(FlatList, {\n    data: filtredData,\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    ItemSeparatorComponent: ItemSeparatorView,\n    renderItem: ItemView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }));\n}\n\nSearch[\"navigationOptions\"] = {\n  tabBarIcon: function tabBarIcon(_ref2) {\n    var tintColor = _ref2.tintColor;\n    return React.createElement(Icon, {\n      name: \"ios-search\",\n      style: {\n        color: tintColor\n      },\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 5\n      }\n    });\n  }\n};\nvar styl = StyleSheet.create({\n  itemUser: {\n    width: \"30%\"\n  },\n  itemUser2: {\n    width: \"50%\"\n  },\n  userRow: {\n    alignItems: \"flex-start\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    marginBottom: 12\n  },\n  itemStyle: {\n    padding: 10\n  },\n  textInputStyle: {\n    height: 50,\n    borderWidth: 1,\n    paddingLeft: 20,\n    margin: 5,\n    borderColor: \"#009688\",\n    backgroundColor: \"white\"\n  },\n  button: {\n    alignItems: \"center\",\n    backgroundColor: \"#DDDDDD\",\n    padding: 10\n  },\n  userImage: {\n    borderRadius: 70,\n    height: 100,\n    marginBottom: 10,\n    width: 100\n  },\n  followUser: {\n    backgroundColor: \"#FFF\",\n    marginBottom: 15,\n    marginTop: 25,\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\"\n  },\n  followImage: {\n    borderRadius: 40,\n    height: 80,\n    marginBottom: 10,\n    width: 80\n  },\n  userNameRow: {\n    marginBottom: 2\n  },\n  userNameText: {\n    color: \"#5B5A5A\",\n    fontSize: 14,\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  userRow: {\n    alignItems: \"flex-start\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    marginBottom: 12\n  },\n  nameSize: {\n    fontSize: 18,\n    fontWeight: \"bold\"\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authToken: state.loginReducer.authToken\n  };\n};\n\nexport default connect(mapStateToProps)(Search);","map":{"version":3,"sources":["/Users/mac/I/InstaClone/src/client/Screens/Home/Search.js"],"names":["React","useState","useRef","useEffect","AuthStyle","connect","SearchBar","axios","Icon","ForceTouchGestureHandler","AsyncStorage","baseURL","SearchStyle","styles","StyleSheet","create","Search","props","filtredData","setfilteredData","masterData","setmasterData","search","setsearch","Id","setId","getItem","value","fetchUsers","method","url","then","res","data","lista","catch","err","console","log","message","searchFilter","text","newData","filter","item","itemData","name","toUpperCase","textData","indexOf","getIdValue","ItemView","styl","followUser","itemUser","userRow","followImage","uri","itemUser2","button","navigation","navigate","setItem","usernameVrai","ItemSeparatorView","height","width","backgroundColor","container","onCancel","marginTop","borderWidth","borderRadius","index","toString","tabBarIcon","tintColor","color","alignItems","flexDirection","justifyContent","marginBottom","itemStyle","padding","textInputStyle","paddingLeft","margin","borderColor","userImage","flex","flexWrap","userNameRow","userNameText","fontSize","fontWeight","textAlign","nameSize","mapStateToProps","state","authToken","loginReducer"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport {\n  SafeAreaView,\n  View,\n  Button,\n  TextInput,\n  Text,\n  Alert,\n  StyleSheet,\n  FlatList,\n  TouchableOpacity,\n  Image,\n} from \"react-native\";\nimport AuthStyle from \"./style/AuthStyle\";\nimport { connect } from \"react-redux\";\n\nimport { SearchBar } from \"react-native-elements\";\nimport axios from \"axios\";\nimport { Icon } from \"native-base\";\nimport { ForceTouchGestureHandler } from \"react-native-gesture-handler\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { baseURL } from \"../../constants\";\nimport { SearchStyle } from \"./SearchStyle\";\n\nconst styles = StyleSheet.create({ ...SearchStyle });\n\nfunction Search(props) {\n  const [filtredData, setfilteredData] = useState([]);\n  const [masterData, setmasterData] = useState([]);\n  const [search, setsearch] = useState(\"\");\n\n  const [Id, setId] = useState(\"\");\n\n  useEffect(() => {\n    (async () => {\n      var value = await AsyncStorage.getItem(\"Id\");\n      setId(value);\n    })();\n\n    fetchUsers();\n    return () => {};\n  }, []);\n\n  const fetchUsers = () => {\n    axios({\n      method: \"post\",\n      url: \"/listUsers\",\n      baseURL: baseURL,\n    })\n      .then((res) => {\n        setfilteredData(res.data.lista);\n        setmasterData(res.data.lista);\n      })\n\n      .catch((err) => {\n        console.log(err.message);\n      });\n  };\n\n  const searchFilter = (text) => {\n    setsearch(text);\n    if (text) {\n      const newData = masterData.filter((item) => {\n        const itemData = item.name ? item.name.toUpperCase() : \"\".toUpperCase();\n        const textData = text.toUpperCase();\n        return itemData.indexOf(textData) > -1;\n      });\n      setfilteredData(newData);\n    } else {\n      setfilteredData(masterData);\n    }\n  };\n  const getIdValue = async () => {\n    var value = await AsyncStorage.getItem(\"Id\");\n    setId(value);\n    return value;\n  };\n\n  const ItemView = ({ item }) => {\n    return (\n      <View style={styl.followUser}>\n        <View style={styl.itemUser}>\n          <View style={styl.userRow}>\n            <Image style={styl.followImage} source={{ uri: item.url }} />\n          </View>\n        </View>\n        <View style={styl.itemUser2}>\n          <View style={styl.userRow}>\n            <TouchableOpacity\n              style={styl.button}\n              onPress={() => {\n                if (item.Id === Id) {\n                  props.navigation.navigate(\"Profile\");\n                } else {\n                  console.log(\"toudaaaa\");\n                  AsyncStorage.setItem(\"publicProfileId\", item.Id);\n\n                  props.navigation.navigate(\"ProfilePub\");\n                }\n              }}\n            >\n              <Text>{item.name}</Text>\n            </TouchableOpacity>\n\n            <Text>{item.usernameVrai}</Text>\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  const ItemSeparatorView = () => {\n    return (\n      <View\n        style={{ height: 0.5, width: \"100%\", backgroundColor: \"#c8c8c8\" }}\n      />\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <SearchBar\n        onChangeText={(text) => searchFilter(text)}\n        placeholder=\"Type username here...\"\n        placeholderTextColor=\"#edf6f9\"\n        cancelButtonTitle=\"Cancel\"\n        onCancel={() => console.log(onCancel())}\n        value={search}\n        inputContainerStyle={{ backgroundColor: \"#bde0fe\" }}\n        leftIconContainerStyle={{ backgroundColor: \"#bde0fe\" }}\n        inputStyle={{ backgroundColor: \"#bde0fe\" }}\n        containerStyle={{\n          marginTop: 26,\n          backgroundColor: \"#a2d2ff\",\n          borderWidth: 1,\n          borderRadius: 5,\n        }}\n      />\n      <FlatList\n        data={filtredData}\n        keyExtractor={(item, index) => index.toString()}\n        ItemSeparatorComponent={ItemSeparatorView}\n        renderItem={ItemView}\n      />\n    </View>\n  );\n}\n\nSearch[\"navigationOptions\"] = {\n  tabBarIcon: ({ tintColor }) => (\n    <Icon name=\"ios-search\" style={{ color: tintColor }} />\n  ),\n};\n\nconst styl = StyleSheet.create({\n  itemUser: {\n    width: \"30%\", // is 50% of container width\n  },\n  itemUser2: {\n    width: \"50%\", // is 50% of container width\n  },\n  userRow: {\n    alignItems: \"flex-start\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    marginBottom: 12,\n  },\n  itemStyle: {\n    padding: 10,\n  },\n  textInputStyle: {\n    height: 50,\n    borderWidth: 1,\n    paddingLeft: 20,\n    margin: 5,\n    borderColor: \"#009688\",\n    backgroundColor: \"white\",\n  },\n  button: {\n    alignItems: \"center\",\n    backgroundColor: \"#DDDDDD\",\n    padding: 10,\n  },\n  userImage: {\n    borderRadius: 70,\n    height: 100,\n    marginBottom: 10,\n    width: 100,\n  },\n  followUser: {\n    backgroundColor: \"#FFF\",\n    marginBottom: 15,\n    marginTop: 25,\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n  },\n  followImage: {\n    borderRadius: 40,\n    height: 80,\n    marginBottom: 10,\n    width: 80,\n  },\n\n  userNameRow: {\n    marginBottom: 2,\n  },\n  userNameText: {\n    color: \"#5B5A5A\",\n    fontSize: 14,\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n  },\n  userRow: {\n    alignItems: \"flex-start\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    marginBottom: 12,\n  },\n  nameSize: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n  },\n});\n\nconst mapStateToProps = (state) => {\n  return {\n    authToken: state.loginReducer.authToken,\n  };\n};\n\nexport default connect(mapStateToProps)(Search);\n"]},"metadata":{},"sourceType":"module"}