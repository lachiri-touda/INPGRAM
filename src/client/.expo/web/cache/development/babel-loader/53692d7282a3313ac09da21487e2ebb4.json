{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/Users/mac/devmob/InstaClone/src/Screens/EditProfile/EditProfile.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport EditStyle from \"./EditStyle\";\nimport { Item, Input } from 'native-base';\nimport { connect } from 'react-redux';\nexport var ImageProfil = require(\"./imagea.jpeg\");\nvar styles = StyleSheet.create(_objectSpread({}, EditStyle));\nimport axios from 'axios';\nimport { uploadprofilephoto as _uploadprofilephoto } from \"../../actions/postsActions\";\nimport { Icon } from 'native-base';\n\nvar EditProfile = function (_Component) {\n  _inherits(EditProfile, _Component);\n\n  var _super = _createSuper(EditProfile);\n\n  function EditProfile(props) {\n    var _this;\n\n    _classCallCheck(this, EditProfile);\n\n    _this = _super.call(this, props);\n\n    _this.UploadProfilePhoto = function () {\n      var Data = {\n        id: _this.props.userDetails,\n        url: _this.state.url\n      };\n\n      _this.props.uploadprofilephoto(Data);\n    };\n\n    _this.saveEditProfile = function () {\n      if (!_this.state.name) {\n        Alert.alert(\"Name is empty\");\n      } else if (!_this.state.username) {\n        Alert.alert(\"Username is empty\");\n      } else {\n        axios({\n          method: 'post',\n          url: '/EditProfile',\n          baseURL: 'http://localhost:3000',\n          data: {\n            userid: _this.props.userDetails,\n            name: _this.state.name,\n            username: _this.state.username,\n            website: _this.state.website,\n            bio: _this.state.bio\n          }\n        }).then(function (res) {\n          Alert.alert(\"Data is saved\");\n          console.log(res);\n          var message = res.data.message;\n\n          if (message === 'Profile updated succefully') {\n            _this.props.navigation.navigate('Profile');\n\n            Alert.alert(message);\n          }\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.fetchUserDetails = function (user_id) {\n      axios({\n        method: 'post',\n        url: '/getUserDetails',\n        baseURL: 'http://localhost:3000',\n        data: {\n          userid: user_id\n        }\n      }).then(function (res) {\n        console.log(res);\n\n        _this.setState({\n          name: res.data.results[0].name\n        });\n\n        _this.setState({\n          username: res.data.results[0].username\n        });\n\n        _this.setState({\n          bio: res.data.results[0].bio\n        });\n\n        _this.setState({\n          website: res.data.results[0].website\n        });\n\n        _this.setState({\n          url: res.data.results[0].url\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.ChangePhoto = function () {};\n\n    _this.state = {\n      name: \"\",\n      username: \"\",\n      website: \"\",\n      bio: \"\",\n      url: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(EditProfile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.fetchUserDetails(this.props.userDetails);\n      this.willFocusSubscription = this.props.navigation.addListener('willFocus', function () {\n        _this2.fetchUserDetails(_this2.props.userDetails);\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.willFocusSubscription.remove();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: styles.headerContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.userRow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        style: styles.userImage,\n        source: {\n          uri: this.state.url\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 15\n        }\n      }), React.createElement(View, {\n        style: styles.changephoto,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }\n      }, React.createElement(TextInput, {\n        style: styles.TextInput,\n        placeholder: \"urlprofile\",\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            url: text\n          });\n        },\n        value: this.state.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 15\n        }\n      }), React.createElement(Button, {\n        onPress: this.UploadProfilePhoto,\n        title: \"upload url\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: styles.item1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 20\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 28\n        }\n      }, \"Name\")), React.createElement(View, {\n        regular: true,\n        style: styles.item2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }\n      }, React.createElement(TextInput, {\n        style: styles.TextInput,\n        value: this.state.name,\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            name: text\n          });\n        },\n        autoCapitalize: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 25\n        }\n      })), React.createElement(View, {\n        style: styles.item1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 28\n        }\n      }, \"Username\")), React.createElement(View, {\n        regular: true,\n        style: styles.item2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }\n      }, React.createElement(TextInput, {\n        style: styles.TextInput,\n        value: this.state.username,\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            username: text\n          });\n        },\n        autoCapitalize: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 25\n        }\n      })), React.createElement(View, {\n        style: styles.item1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 28\n        }\n      }, \"Website\")), React.createElement(View, {\n        regular: true,\n        style: styles.item2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }\n      }, React.createElement(TextInput, {\n        style: styles.TextInput,\n        value: this.state.website,\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            website: text\n          });\n        },\n        autoCapitalize: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 25\n        }\n      })), React.createElement(View, {\n        style: styles.item1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 28\n        }\n      }, \"Bio\")), React.createElement(View, {\n        regular: true,\n        style: styles.item2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }\n      }, React.createElement(TextInput, {\n        style: styles.TextBioInput,\n        value: this.state.bio,\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            bio: text\n          });\n        },\n        autoCapitalize: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 25\n        }\n      }))), React.createElement(Button, {\n        title: \"Save\",\n        onPress: this.saveEditProfile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 15\n        }\n      })));\n    }\n  }]);\n\n  return EditProfile;\n}(Component);\n\nEditProfile.navigationOptions = {\n  tabBarIcon: function tabBarIcon(_ref) {\n    var tintColor = _ref.tintColor;\n    return React.createElement(Icon, {\n      name: \"ios-pencil\",\n      style: {\n        color: tintColor\n      },\n      __self: EditProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    });\n  }\n};\n\nvar mapStatetoProps = function mapStatetoProps(state) {\n  return {\n    userDetails: state.loginReducer.userDetails\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    uploadprofilephoto: function uploadprofilephoto(Data) {\n      return dispatch(_uploadprofilephoto(Data));\n    }\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(EditProfile);","map":{"version":3,"sources":["/Users/mac/devmob/InstaClone/src/Screens/EditProfile/EditProfile.js"],"names":["React","Component","AsyncStorage","EditStyle","Item","Input","connect","ImageProfil","require","styles","StyleSheet","create","axios","uploadprofilephoto","Icon","EditProfile","props","UploadProfilePhoto","Data","id","userDetails","url","state","saveEditProfile","name","Alert","alert","username","method","baseURL","data","userid","website","bio","then","res","console","log","message","navigation","navigate","catch","err","fetchUserDetails","user_id","setState","results","ChangePhoto","willFocusSubscription","addListener","remove","headerContainer","userRow","userImage","uri","changephoto","TextInput","text","container","item1","item2","TextBioInput","navigationOptions","tabBarIcon","tintColor","color","mapStatetoProps","loginReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["\n\n\nimport React,{Component} from 'react';\n\nimport {View, Text,Image, Button,TextInput, StyleSheet,Alert,AsyncStorage} from 'react-native';\n//import { launchImageLibrary} from 'react-native-image-picker';\n//import {AsyncStorage} from \"@react-native-async-storage/async-storage\"\n//import {AsyncStorage} from \"@react-native-community/async-storage\"\n//var ImagePicker = require('react-native-image-picker');\nimport EditStyle from './EditStyle'\n//mport { Item } from 'react-native-paper/lib/typescript/src/components/List/List';\nimport {Item,Input} from 'native-base'\nimport { connect } from 'react-redux';\nexport const ImageProfil = require('./imagea.jpeg'); \nconst styles = StyleSheet.create({ ...EditStyle})\nimport axios from'axios'\nimport {uploadprofilephoto} from '../../actions/postsActions';\n\n\nimport {Icon } from 'native-base'\n\n\n\nclass EditProfile extends Component {\n\n  constructor(props){\n    super(props);\n      this.state={\n        name:\"\",\n        username:\"\",\n        website:\"\",\n        bio:\"\",\n        url:\"\",\n\n      }\n      \n  }\n\n  static navigationOptions = {\n\n    tabBarIcon: ({ tintColor }) => (\n      <Icon name=\"ios-pencil\" style={{ color: tintColor }} />\n    )\n  }\n \n UploadProfilePhoto = () => {\n\n        const Data = {\n         id:this.props.userDetails,\n         url: this.state.url\n          \n        }\n        // calling signup() dispatch\n        \n        this.props.uploadprofilephoto(Data);\n      }\n\n  saveEditProfile = () => {\n    \n    if(!this.state.name ){\n      Alert.alert(\"Name is empty\");\n    }\n    else if( !this.state.username){\n      Alert.alert(\"Username is empty\");\n    }\n    else{\n    axios({\n      method: 'post',\n      url: '/EditProfile',\n      baseURL: 'http://localhost:3000',\n      data: { \n        userid:this.props.userDetails,\n        name:this.state.name,\n        username:this.state.username,\n        website:this.state.website,\n        bio:this.state.bio\n\n       \n        }\n    })\n      .then(res=>{\n         \n          Alert.alert(\"Data is saved\");\n          console.log(res);\n          const message=res.data.message;\n  \n          if(message==='Profile updated succefully'){\n            this.props.navigation.navigate('Profile');\n            Alert.alert(message);\n            \n  \n          }\n          \n      })\n      .catch(err=>console.log(err))\n       \n    }\n      \n  }\n  \n  fetchUserDetails= (user_id)=> {\n   \n  \n  axios({\n    method: 'post',\n    url: '/getUserDetails',\n    baseURL: 'http://localhost:3000',\n    data: { \n      userid: user_id\n     \n      }\n  })\n    .then(res=>{\n        console.log(res);\n        this.setState({name:res.data.results[0].name});\n        this.setState({username:res.data.results[0].username});\n        this.setState({bio:res.data.results[0].bio});\n        this.setState({website:res.data.results[0].website});\n        this.setState({url:res.data.results[0].url});\n        \n    })\n    .catch(err=>console.log(err))\n}\n  /*async ComponentDidMount () {\n     \n  \n    AsyncStorage.getItem('name').then((value)=> this.setState({'name':value}));\n   \n    AsyncStorage.getItem('username').then((value)=> this.setState({'username':value}));\n    AsyncStorage.getItem('website').then((value)=> this.setState({'website':value}));\n    AsyncStorage.getItem('bio').then((value)=> this.setState({'bio':value}));\n\n}*/\n\ncomponentDidMount () {\n  this.fetchUserDetails(this.props.userDetails);\n  this.willFocusSubscription = this.props.navigation.addListener(\n    'willFocus',\n    () => {\n      this.fetchUserDetails(this.props.userDetails);\n    }\n  );\n\n}\n/*componentWillMount() {\n  this.fetchUserDetails(this.props.userDetails);\n  this.willFocusSubscription = this.props.navigation.addListener(\n    'willFocus',\n    () => {\n      this.fetchUserDetails(this.props.userDetails);\n    }\n  );\n} */\ncomponentWillUnmount() {\n  this.willFocusSubscription.remove();\n} \n  \n  \n\n  ChangePhoto = () => {\n\n    /*const options ={\n      noData: true,\n    };\n\n  launchImageLibrary(options,response => {\n\n      console.log(\"response\",response);\n      if(response.uri){\n        this.setState({photo:response});\n      }\n    })*/  \n  }\n   /*ChangePhoto = () => {\n  const options = {\n    title: 'Select Avatar',\n    customButtons: [{ name: 'fb', title: 'Choose Photo from Facebook' }],\n    storageOptions: {\n      skipBackup: true,\n      path: 'images',\n    },\n  };\n\nlaunchCamera(options, (response) => { // Use launchImageLibrary to open image gallery\n      console.log('Response = ', response);\n    \n      if (response.didCancel) {\n        console.log('User cancelled image picker');\n      } else if (response.error) {\n        console.log('ImagePicker Error: ', response.error);\n      } else if (response.customButton) {\n        console.log('User tapped custom button: ', response.customButton);\n      } else {\n        const source = { uri: response.uri };\n        this.setState({photo:response.uri});\n        // You can also display the image using data:\n        // const source = { uri: 'data:image/jpeg;base64,' + response.data };\n    \n        console.log(source)\n      }\n  }\n    )} */\n /* setName = (value) => {\n    AsyncStorage.setItem('name',value);\n    this.setState({'name':value});\n  }\n\n  setUsername = (value) =>{\n     AsyncStorage.setItem('username',value);\n    this.setState({'username':value});\n  }\n\n  setWebsite = (value) =>{\n     AsyncStorage.setItem('website',value);\n    this.setState({'website':value});\n  }\n\n  setBio = (value) =>{\n      AsyncStorage.setItem('bio',value);\n    this.setState({'bio':value});\n  }*/\n      \n  \n\n    render() {\n\n      return (\n\n      <View style={styles.headerContainer}>\n        \n       \n        <View style={styles.userRow}>\n              <Image\n                style={styles.userImage}\n                source={{uri:this.state.url}}\n              />\n              <View style={styles.changephoto}>\n                \n              <TextInput style={styles.TextInput}\n                    placeholder=\"urlprofile\"\n                    onChangeText={ text => this.setState({url: text})}\n                    value={this.state.url} \n                /> \n                \n                <Button\n                onPress={this.UploadProfilePhoto }\n                   title=\"upload url\"  \n                />      \n              </View>\n\n              <View style={styles.container}>\n              \n                   <View style={styles.item1}>\n                           <Text>Name</Text>\n                    </View>  \n                    <View  regular style={styles.item2}>\n                        <TextInput style={styles.TextInput} \n                        value={this.state.name}\n                         onChangeText={ text => this.setState({name: text})}  \n                          autoCapitalize='none'/>\n                    </View>\n                  \n                    <View style={styles.item1}>\n                           <Text >Username</Text>\n                    </View>  \n                    <View  regular style={styles.item2}>\n                        <TextInput style={styles.TextInput} \n                        value={this.state.username} \n                        onChangeText={ text => this.setState({username: text})}    autoCapitalize='none' />\n                        </View>\n\n                    <View style={styles.item1}>\n                           <Text >Website</Text>\n                      </View> \n                    <View  regular style={styles.item2}>\n                        <TextInput style={styles.TextInput}\n                         value={this.state.website}\n                         onChangeText={ text => this.setState({website: text})}    autoCapitalize='none' />\n                        </View>\n                    <View style={styles.item1}>\n                           <Text >Bio</Text>\n                    </View>  \n                    <View regular style={styles.item2}>\n                        <TextInput style={styles.TextBioInput}\n                         value={this.state.bio} onChangeText={ text => this.setState({bio: text})}     autoCapitalize='none' />\n                    </View>\n                    \n                     \n                       \n                    \n                    \n              </View>\n             \n              <Button  title=\"Save\" onPress={this.saveEditProfile} />    \n              </View> \n\n              \n      </View>\n          \n\n\n      )\n    }\n\n}\nconst mapStatetoProps=(state)=>{\n  return{\n    \n    userDetails: state.loginReducer.userDetails,\n   \n  }\n }\n \n\n const mapDispatchToProps = dispatch => {\n  return {\n    // only map needed dispatches here\n    uploadprofilephoto: Data => dispatch(uploadprofilephoto(Data)),\n  }\n}\n\n\n\n \nexport default connect(mapStatetoProps, mapDispatchToProps)(EditProfile);"]},"metadata":{},"sourceType":"module"}